<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>04返回顶部</title>
	<style>
		.toTop{
			display:none;
			position:fixed;bottom:10px;right:10px;
			padding:10px;background-color: rgba(0,0,0,0.1);color:#333;
		}
	</style>
	<script>
	/*
		缓存运动
	 */
	for(var i=1;i<100;i++){
		document.write('<p>我叫你'+i+'声逗比你敢答应吗？</p>');
	}
	
	document.addEventListener('DOMContentLoaded',function(){
		var toTop = document.querySelector('.toTop');

		window.onscroll = ()=>{
			// 先获取滚动条滚动过的距离
			var scrollTop = window.scrollY;

			if(scrollTop >= 1000){
				toTop.style.display = 'block';
			}else{
				toTop.style.display = 'none';
			}
		}

		toTop.onclick = ()=>{

			var timer = setInterval(()=>{
				// 先获取滚动条滚动过的距离
				var scrollTop = window.scrollY;

				// 计算速度
				// 可变速度
				var speed = scrollTop/10;

				scrollTop -= speed;

				if(scrollTop <= 0 || speed<=3){
					clearInterval(timer);
					scrollTop = 0;
				}

				window.scrollTo(0,scrollTop);

			},20);
		}
	});

	/*document.onreadystatechange = ()=>{
		if(document.readySate === 'interactive'){

		}
	}*/


	</script>
</head>
<body>
	<span class="toTop">返回顶部</span>
</body>
</html>