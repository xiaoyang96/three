<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>编写生成4位数字验证码的函数，并显示在页面，点击重新生成验证码</title>
	<script>
	window.onload = function(){
		/*
			编写生成4位数字验证码的函数，并显示在页面，点击重新生成验证码

			思路：
				1）获取元素
				2）给按钮绑定click事件
					* 生成随机验证码
					* 把验证码写入#reslut
				3）验证
					* 失去焦点时判断验证码输入是否正确
		 */
		
		// 1）获取元素
		var vcode = document.getElementById('vcode');
		var btnChange = document.getElementById('btnChange');
		var result = document.getElementById('result');

		var code;

		// 2）给按钮绑定click事件
		btnChange.onclick = function(){
			// * 生成4位随机验证码
			// 创建一个同名变量（分别在两个不同作用域中）
			// var code = parseInt(Math.random()*10000);

			/*// 此处code变量为父级作用域中的变量
			code = parseInt(Math.random()*10000);

			// 补位操作
			if(code<10){
				code = '000' + code;
			}else if(code<100){
				code = '00' + code;
			}else if(code<1000){//99
				code = '0' + code;
			}*/

			randomCode();

			// * 把验证码写入#reslut
			// result.innerHTML = code;
			result.innerHTML = code;
		}

		// 3）失去焦点时判断验证码输入是否正确
		vcode.onchange = function(){
			// 拿输入的字符与code进行对比
			var _input = vcode.value;
			if(_input == code){
				vcode.style.color = '#0c0';
				vcode.style.border = '1px solid #0c0';
			}else{
				vcode.style.color = '#f00';
				vcode.style.border = '1px solid #f00';
			}
		}

		function randomCode(){
			code = parseInt(Math.random()*10000);

			// 补位操作
			if(code<10){
				code = '000' + code;
			}else if(code<100){
				code = '00' + code;
			}else if(code<1000){//99
				code = '0' + code;
			}
		}
	}
	</script>
</head>
<body>
	<input type="text" id="vcode">
	<button id="btnChange">获取验证码</button>
	<span id="result"></span>
</body>
</html>